(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1639:function(e,t,n){"use strict";n(22),n(15),n(11),n(16),n(112);var o=n(4),r=n(2),c=(n(55),n(8),n(69));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(e){return new Promise((function(t){return setTimeout(t,e)}))},h={components:{},data:function(){return{isLoading:!1}},computed:{deeplink:function(){return"http://evowallet.io/#/?name=".concat(this.$store.state.name.label)}},methods:d(d({},Object(c.b)(["registerNameOnceBalance","onboard"])),{},{onboardMe:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!e.$store.state.identityId){t.next=7;break}return t.next=4,e.onboard();case 4:e.isLoading=!1,t.next=10;break;case 7:return t.next=9,m(1e3);case 9:e.onboardMe();case 10:case"end":return t.stop()}}),t)})))()}})},f=n(81),v=n(121),y=n.n(v),x=n(1609),O=n(441),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("v-overlay",{attrs:{absolute:"",value:e.isLoading}},[n("span",{staticClass:"headline"},[e._v("\n      Please finish "+e._s(this.$store.state.onboardText)+" in EvoWallet.\n    ")])]),e._v(" "),"createAccount"!==e.$store.state.onboardType?n("v-btn",{staticClass:"mb-4 white--text",staticStyle:{width:"100%"},attrs:{large:"",rounded:"",elevation:"0",color:"#008de4",disabled:!this.$store.state.name.isValid,loading:e.isLoading},on:{click:function(t){return e.onboardMe()}}},[e._v("\n    "+e._s(this.$store.state.onboardText)+"\n  ")]):e._e(),e._v(" "),"createAccount"===e.$store.state.onboardType?n("v-btn",{staticClass:"mb-4 white--text",staticStyle:{width:"100%"},attrs:{large:"",rounded:"",elevation:"0",color:"#008de4",href:e.deeplink,target:"_blank"}},[e._v("\n    "+e._s(this.$store.state.onboardText)+"\n  ")]):e._e(),e._v(" "),e.isLoading?n("span",[e._v("\n    "+e._s(this.$store.getters.getLoadingStep)+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.a=component.exports;y()(component,{VBtn:x.a,VOverlay:O.a})},1640:function(e,t,n){"use strict";var o=n(81),component=Object(o.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("p",{staticStyle:{color:"#2185d0","font-family":"montserrat","font-size":"2rem","font-weight":"700","line-height":"1"}},[this._v("\n  Join The Conversation\n")])}),[],!1,null,null,null);t.a=component.exports},1641:function(e,t,n){"use strict";var o=n(81),component=Object(o.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("p",{staticStyle:{"font-family":"'Open Sans', sans-serif","font-size":"12pt"}})}),[],!1,null,null,null);t.a=component.exports},1660:function(e,t,n){"use strict";var o=n(1),r=n(69);var c=o.a.extend({data:()=>({loading:!1,items:[],search:null,searchDebounceTime:0,searchDebounceNonce:0,name:"",onboardType:"signup",onboardText:{login:"Log In",signup:"Sign Up",createAccount:"Create Account"},nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],loginPinRules:[e=>!!e||"Enter the DAPP PIN shown in your wallet.",e=>/^\d{6}$/.test(e)||"Please enter a 6 digit number."],nameRules:[e=>!!e||"Let's start with who you are..",e=>!!e&&e.length<64||"Name can be max 63 characters.",e=>/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(e.text)||"Name can consists of A-Z,  0-9 and - within the name"]}),computed:{loginPin:{get(){return this.$store.state.name.uidPin},set(e){this.$store.commit("setUidPin",e)}}},watch:{async search(e){var t;this.searchDebounceTime=Date.now()+200,await(t=200,new Promise(e=>setTimeout(e,t)));const n=Date.now();if(this.searchDebounceTime<=n){console.log("Name start search :>> ",e),console.log("current this.name :>> ",this.name),console.log("this.querySelections(val) :>> ",this.querySelections(e));const t=this.name?this.name.split(":")[0]:null;console.log("curVal :>> ",t),e&&e!==t&&await this.querySelections(e,n)}else console.log("search has been called within debounceMS"),console.log("this.searchDebounceTime :>> ",this.searchDebounceTime)}},methods:{...Object(r.d)(["setName","setNameValid","setUidPin","setUserId","setUserIdentityId","setOnboardText","setOnboardType"]),...Object(r.b)(["searchDashNames","dashNameExists","registerNameOnceBalance","isSignedUp","signupRequest","sessionRequest","onboard"]),async querySelections(e,t){if(!e)return;if(t<this.searchDebounceNonce)return;this.searchDebounceNonce=t,this.loading=!0;const n=await this.searchDashNames(e);if(t<this.searchDebounceNonce)return;this.items=n.map(e=>({text:e.data.label,value:`${e.data.label}:${e.id}`}));!n.map(e=>(console.log(e.data),e.data.normalizedLabel)).includes(e.toLowerCase())&&(this.items=[...this.items,{header:"Create new Account",text:e,value:e},{divider:!0,text:e,value:e},{text:" "+e,value:e+":newAccount"}]),this.loading=!1},validateName(e){this.items=[{text:e.split(":")[0],value:e}],console.log("event :>> ",e),console.log("event.split(:)[0]) :>> ",e.split(":")[0]),this.name=e,this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],console.log("this.name :>> ",this.name),this.setName(this.name.split(":")[0]),this.setNameValid(!1),this.nameExists=!1,this.timer&&(clearTimeout(this.timer),this.timer=null),this.checkIfNameExists(this.name.split(":")[0],e)},async checkIfNameExists(e,t){this.$store.commit("setOnboardText",this.onboardText[this.onboardType]),console.log("Checking if name is taken: ",e),this.nameMessages=["Checking if this is your first time.."];const n=await this.dashNameExists(e);if(n){this.onboardType="signup",this.setUserId(n.$id),this.setUserIdentityId(n.$ownerId),this.setOnboardText(this.onboardText[this.onboardType]),this.setOnboardType(this.onboardType);const o=await this.isSignedUp({userId:n.$id});console.log("nameIsSignedUp :>> ",o),o&&(this.onboardType="login",this.setOnboardText(this.onboardText[this.onboardType]),this.setOnboardType(this.onboardType)),this.nameErrors=[],"signup"===this.onboardType?this.nameSuccess=[`This is your first time, ${e}. Please sign up.`]:"login"===this.onboardType&&(this.nameSuccess=[`Welcome back, ${e}! Go ahead and log in.`]),this.setNameValid(!0),this.nameExists=!0,this.setName(this.name.split(":")[0]),13===t.keyCode&&this.onboard()}else{this.nameSuccess=[`Hi ${this.name.split(":")[0]}, let's create you a new Dash Account`],this.setNameValid(!1),this.nameExists=!1,this.setName(this.name.split(":")[0]);window.open("http://evowallet.io/#/?name="+this.name.split(":")[0],"_blank").focus(),this.onboardType="createAccount",this.setOnboardText(this.onboardText[this.onboardType]),this.setOnboardType(this.onboardType)}}}}),l=n(81),d=n(121),m=n.n(d),h=n(1751),f=n(1637),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-autocomplete",{staticClass:"mx-auto",staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{value:e.name,"auto-select-first":"",outlined:"",label:"Enter Username",loading:e.loading,items:e.items,"search-input":e.search,"hide-no-data":"",disabled:this.$store.state.isSyncing,rules:e.nameRules,"error-messages":e.nameErrors,"success-messages":e.nameSuccess,messages:e.nameMessages},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},input:function(t){return e.validateName(t)}}}),e._v(" "),e.nameExists?n("v-text-field",{staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{outlined:"",label:"DAPP PIN",rules:e.loginPinRules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onboard()}},model:{value:e.loginPin,callback:function(t){e.loginPin=t},expression:"loginPin"}}):e._e()],1)}),[],!1,null,null,null),v=component.exports;m()(component,{VAutocomplete:h.a,VTextField:f.a});var y=n(1639),x=n(1640),O=n(1641),w={components:{NameAutocomplete:v,NameButton:y.a,Headline:x.a,Subline:O.a}},T=n(439),N=n(225),P=n(1619),k=n(1626),E=n(1620),S=n(1621),_=Object(l.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{attrs:{"fill-height":""}},[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",[t("v-card",{staticClass:"mx-auto",attrs:{loading:this.$store.state.isSyncing,"max-width":"600px",elevation:"0"}},[t("v-card-text",{staticClass:"mb-n7"},[t("Headline"),this._v(" "),t("Subline",{staticClass:"headline"}),this._v(" "),t("NameAutocomplete")],1),this._v(" "),t("v-card-actions",[t("v-spacer"),this._v(" "),t("NameButton"),this._v(" "),t("v-spacer")],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.a=_.exports;m()(_,{VCard:T.a,VCardActions:N.a,VCardText:N.c,VCol:P.a,VContainer:k.a,VRow:E.a,VSpacer:S.a})},1748:function(e,t,n){"use strict";n.r(t);n(22),n(15),n(11),n(8),n(16),n(112);var o=n(4),r=n(2),c=(n(55),n(69));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={components:{},data:function(){return{name:"",onboardType:"signup",onboardText:{login:"Log In",signup:"Sign Up"},nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],loginPinRules:[function(e){return!!e||"Enter the Login PIN shown in your wallet."},function(e){return/^\d{6}$/.test(e)||"Please enter a 6 digit number."}],nameRules:[function(e){return!!e||"Let's start with who you are.."},function(e){return!!e&&e.length<64||"Name can be max 63 characters."},function(e){return/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(e)||"Name can consists of A-Z,  0-9 and - within the name"}]}},computed:{loginPin:{get:function(){return this.$store.state.name.uidPin},set:function(e){this.$store.commit("setUidPin",e)}}},created:function(){this.name=this.$store.state.name.label},methods:d(d(d({},Object(c.b)(["dashNameExists","registerNameOnceBalance","isSignedUp","signupRequest","sessionRequest","onboard"])),Object(c.d)(["setName","setNameValid","setUidPin","setUserId","setUserIdentityId","setOnboardText","setOnboardType"])),{},{validateName:function(e){var t=this;this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],this.setName(this.name),this.setNameValid(!1),this.nameExists=!1,this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.name&&/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(t.name)&&t.name.length<64&&t.checkIfNameExists(t.name,e)}),300)},checkIfNameExists:function(e,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n.$store.commit("setOnboardText",n.onboardText[n.onboardType]),console.log("Checking if name is taken: ",e),n.name===e){o.next=4;break}return o.abrupt("return");case 4:return n.nameMessages=["Checking if name is registered.."],o.next=7,n.dashNameExists(e);case 7:if(r=o.sent,console.log("nameExists :>> ",r),n.name===e){o.next=11;break}return o.abrupt("return");case 11:if(r){o.next=19;break}n.nameErrors=["".concat(e," does not exist, double check your spelling..")],n.nameSuccess=[],n.setNameValid(!1),n.nameExists=!1,n.setName(n.name),o.next=35;break;case 19:return n.onboardType="signup",n.setUserId(r.$id),n.setUserIdentityId(r.$ownerId),n.setOnboardText(n.onboardText[n.onboardType]),n.setOnboardType(n.onboardType),o.next=26,n.isSignedUp({userId:r.$id});case 26:c=o.sent,console.log("nameIsSignedUp :>> ",c),c&&(n.onboardType="login",n.setOnboardText(n.onboardText[n.onboardType]),n.setOnboardType(n.onboardType)),n.nameErrors=[],n.nameSuccess=["".concat(e," exists, ready to ").concat(n.onboardText[n.onboardType])],n.setNameValid(!0),n.nameExists=!0,n.setName(n.name),13===t.keyCode&&n.onboard();case 35:case"end":return o.stop()}}),o)})))()}})},h=n(81),f=n(121),v=n.n(f),y=n(1637),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-text-field",{staticClass:"mx-auto",staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{outlined:"",label:"Enter Username",value:this.$store.state.name.label,disabled:this.$store.state.isSyncing,rules:e.nameRules,"error-messages":e.nameErrors,"success-messages":e.nameSuccess,messages:e.nameMessages},on:{keyup:function(t){return e.validateName(t)},input:function(t){return e.validateName(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),e.nameExists?n("v-text-field",{staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{outlined:"",label:"Login PIN",rules:e.loginPinRules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onboard()}},model:{value:e.loginPin,callback:function(t){e.loginPin=t},expression:"loginPin"}}):e._e()],1)}),[],!1,null,null,null),x=component.exports;v()(component,{VTextField:y.a});var O=n(1639),w=n(1640),T=n(1641),N={components:{NameField:x,NameButton:O.a,Headline:w.a,Subline:T.a}},P=n(1619),k=n(1626),E=n(1620),S=Object(h.a)(N,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("Headline")],1)],1),this._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("Subline")],1)],1),this._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("NameField")],1)],1),this._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("NameButton")],1)],1)],1)}),[],!1,null,null,null),_=S.exports;v()(S,{VCol:P.a,VContainer:k.a,VRow:E.a});var $={components:{Mobile:_,Desktop:n(1660).a}},j=Object(h.a)($,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{attrs:{"fill-height":""}},[t("Desktop")],1)}),[],!1,null,null,null);t.default=j.exports;v()(j,{VContainer:k.a})}}]);