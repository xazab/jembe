(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1654:function(t,e,n){var content=n(1724);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("65568de0",content,!0,{sourceMap:!1})},1655:function(t,e,n){var content=n(1726);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("0484be72",content,!0,{sourceMap:!1})},1656:function(t,e,n){var content=n(1734);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("2b10fcae",content,!0,{sourceMap:!1})},1657:function(t,e,n){var content=n(1736);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("fcd0c644",content,!0,{sourceMap:!1})},1669:function(t,e,n){"use strict";e.__esModule=!0;e.default={nbsp:"Â "}},1670:function(t,e,n){"use strict";function r(t){this.named=t}e.__esModule=!0;var o=/^#[xX]([A-Fa-f0-9]+)$/,c=/^#([0-9]+)$/,l=/^([A-Za-z0-9]+)$/;r.prototype.parse=function(t){if(t){var e=t.match(o);return e?"&#x"+e[1]+";":(e=t.match(c))?"&#"+e[1]+";":(e=t.match(l))?this.named[e[1]]||"&"+e[1]+";":void 0}},e.default=r},1671:function(t,e,n){"use strict";e.__esModule=!0;var r=n(1731);function o(t,e){this.delegate=t,this.entityParser=e,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}o.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(input){this.reset(),this.tokenizePart(input),this.tokenizeEOF()},tokenizePart:function(input){for(this.input+=(0,r.preprocessInput)(input);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var t=this.peek();return this.index++,"\n"===t?(this.line++,this.column=0):this.column++,t},consumeCharRef:function(){var t=this.input.indexOf(";",this.index);if(-1!==t){var e=this.input.slice(this.index,t),n=this.entityParser.parse(e);if(n){for(var r=e.length;r;)this.consume(),r--;return this.consume(),n}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var t=this.peek();"<"===t?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(t))},tagOpen:function(){var t=this.consume();"!"===t?this.state="markupDeclaration":"/"===t?this.state="endTagOpen":(0,r.isAlpha)(t)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(t.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var t=this.consume();"-"===t?this.state="commentStartDash":">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(t),this.state="comment")},commentStartDash:function(){var t=this.consume();"-"===t?this.state="commentEnd":">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var t=this.consume();"-"===t?this.state="commentEndDash":this.delegate.appendToCommentData(t)},commentEndDash:function(){var t=this.consume();"-"===t?this.state="commentEnd":(this.delegate.appendToCommentData("-"+t),this.state="comment")},commentEnd:function(){var t=this.consume();">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+t),this.state="comment")},tagName:function(){var t=this.consume();(0,r.isSpace)(t)?this.state="beforeAttributeName":"/"===t?this.state="selfClosingStartTag":">"===t?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(t)},beforeAttributeName:function(){var t=this.peek();(0,r.isSpace)(t)?this.consume():"/"===t?(this.state="selfClosingStartTag",this.consume()):">"===t?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t))},attributeName:function(){var t=this.peek();(0,r.isSpace)(t)?(this.state="afterAttributeName",this.consume()):"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===t?(this.state="beforeAttributeValue",this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(t))},afterAttributeName:function(){var t=this.peek();(0,r.isSpace)(t)?this.consume():"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===t?(this.consume(),this.state="beforeAttributeValue"):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(t))},beforeAttributeValue:function(){var t=this.peek();(0,r.isSpace)(t)?this.consume():'"'===t?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===t?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(t))},attributeValueDoubleQuoted:function(){var t=this.consume();'"'===t?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(t)},attributeValueSingleQuoted:function(){var t=this.consume();"'"===t?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(t)},attributeValueUnquoted:function(){var t=this.peek();(0,r.isSpace)(t)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===t?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===t?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(t))},afterAttributeValueQuoted:function(){var t=this.peek();(0,r.isSpace)(t)?(this.consume(),this.state="beforeAttributeName"):"/"===t?(this.consume(),this.state="selfClosingStartTag"):">"===t?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var t=this.consume();(0,r.isAlpha)(t)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(t.toLowerCase()))}}},e.default=o},1672:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1671),c=(r=o)&&r.__esModule?r:{default:r};function l(t,e){this.token=null,this.startLine=1,this.startColumn=0,this.options=e||{},this.tokenizer=new c.default(this,t)}l.prototype={tokenize:function(input){return this.tokens=[],this.tokenizer.tokenize(input),this.tokens},tokenizePart:function(input){return this.tokens=[],this.tokenizer.tokenizePart(input),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(t){this.token.chars+=t},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(t){this.token.chars+=t},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(t){this.token.tagName+=t},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(t){this._currentAttribute[0]+=t},beginAttributeValue:function(t){this._currentAttribute[2]=t},appendToAttributeValue:function(t){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=t},finishAttributeValue:function(){}},e.default=l},1723:function(t,e,n){"use strict";var r=n(1654);n.n(r).a},1724:function(t,e,n){(e=n(24)(!1)).push([t.i,'*{text-transform:none!important}.navsidebar{color:#fff!important;font:blue}.font-header{font-size:20px;font-weight:700;font-family:"Montserrat"}.font-header,.menu-text{color:rgba(20,23,26,.8)!important}.menu-text:active,.menu-text:hover{color:#008de4!important}.menu-background:active,.menu-background:hover{background:rgba(0,141,228,.1098)}.menu-background:hover .menu-text{color:#008de4!important}.font-sidebar{font-size:19px;font-weight:700;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text{color:#fff!important;background-color:#008de4;font-size:16px!important}.jam-this-text,.jam-this-text:hover{font-weight:900;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text:hover{color:#fff;background-color:#0e7fc5!important;font-size:16px}.messagecard{border-top:solid!important;border-bottom:solid!important;border-color:hsla(0,4.9%,88%,.84706)!important;border-width:1px!important}.tweetcard:hover{background-color:#f5f8fb!important}',""]),t.exports=e},1725:function(t,e,n){"use strict";var r=n(1655);n.n(r).a},1726:function(t,e,n){(e=n(24)(!1)).push([t.i,'.truncate[data-v-30fd737e]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.borders[data-v-30fd737e]{max-width:600px;border-left:solid;border-right:solid;border-color:hsla(0,4.9%,88%,.84706);border-width:1px}.clickin[data-v-30fd737e]{border-color:#008de4 solid!important;fill:#fff!important}.narrow[data-v-30fd737e]{max-width:44px}.wide[data-v-30fd737e]{max-width:275px}.narrowscreen[data-v-30fd737e]{padding-right:20px}.widescreen[data-v-30fd737e]{padding-right:25px}.font-searchbar[data-v-30fd737e]{font-size:15px;font-family:"Arial";display:inline;line-height:1.3125;background:#03619c!important}',""]),t.exports=e},1727:function(t,e,n){"use strict";var r,o,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(1728),h=(o=l)&&o.__esModule?o:{default:o};!function(){function a(b,t){b.innerHTML=(0,h.default)(b.innerHTML,t.value)}"object"==c(e)?t.exports=a:void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},1728:function(t,e,n){t.exports=n(1729).default},1729:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var i,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.default.tokenize(t),r=[],o=[];for(e=new d(e),i=0;i<n.length;i++){var l=n[i];if("StartTag"!==l.type)if("Chars"===l.type){var y=f(l.chars,e);r.push.apply(r,y)}else r.push(l);else{r.push(l);var x=l.tagName.toUpperCase(),k="A"===x||h.contains(e.ignoreTags,x);if(!k)continue;var w=r.length;m(x,n,++i,r),i+=r.length-w-1}}for(i=0;i<r.length;i++){var C=r[i];switch(C.type){case"StartTag":var link="<"+C.tagName;if(C.attributes.length>0){var T=v(C.attributes);link+=" "+T.join(" ")}link+=">",o.push(link);break;case"EndTag":o.push("</"+C.tagName+">");break;case"Chars":o.push(C.chars);break;case"Comment":o.push("\x3c!--"+C.chars+"--\x3e")}}return o.join("")};var r,o=n(1730),c=(r=o)&&r.__esModule?r:{default:r},l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(462));var h=l.options,d=h.Options;function f(t,e){for(var n=l.tokenize(t),r=[],i=0;i<n.length;i++){var o=n[i];if("nl"===o.type&&e.nl2br)r.push({type:"StartTag",tagName:"br",attributes:[],selfClosing:!0});else if(o.isLink&&e.check(o)){var c=e.resolve(o),h=c.formatted,d=c.formattedHref,f=c.tagName,m=c.className,v=c.target,y=c.attributes,x=[["href",d]];for(var k in m&&x.push(["class",m]),v&&x.push(["target",v]),y)x.push([k,y[k]]);r.push({type:"StartTag",tagName:f,attributes:x,selfClosing:!1}),r.push({type:"Chars",chars:h}),r.push({type:"EndTag",tagName:f})}else r.push({type:"Chars",chars:o.toString()})}return r}function m(t,e,i,n){for(var r=1;i<e.length&&r>0;){var o=e[i];"StartTag"===o.type&&o.tagName.toUpperCase()===t?r++:"EndTag"===o.type&&o.tagName.toUpperCase()===t&&r--,n.push(o),i++}return n}function v(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=n[0],o=n[1];e.push(r+'="'+(o.replace(/"/g,"&quot;")+'"'))}return e}},1730:function(t,e,n){"use strict";e.__esModule=!0;var r=d(n(1669)),o=d(n(1670)),c=d(n(1671)),l=d(n(1672)),h=d(n(1732));function d(t){return t&&t.__esModule?t:{default:t}}var f={HTML5NamedCharRefs:r.default,EntityParser:o.default,EventedTokenizer:c.default,Tokenizer:l.default,tokenize:h.default};e.default=f},1731:function(t,e,n){"use strict";e.__esModule=!0,e.isSpace=function(t){return r.test(t)},e.isAlpha=function(t){return o.test(t)},e.preprocessInput=function(input){return input.replace(c,"\n")};var r=/[\t\n\f ]/,o=/[A-Za-z]/,c=/\r\n?/g},1732:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(input,t){return new r.default(new o.default(c.default),t).tokenize(input)};var r=l(n(1672)),o=l(n(1670)),c=l(n(1669));function l(t){return t&&t.__esModule?t:{default:t}}},1733:function(t,e,n){"use strict";var r=n(1656);n.n(r).a},1734:function(t,e,n){(e=n(24)(!1)).push([t.i,"a.linkify[data-v-e8567ae8]{color:#03619c!important;text-decoration:none!important}a.linkify[data-v-e8567ae8] :hover{text-decoration:underline!important}.headerbar[data-v-e8567ae8]{height:54px;background-color:#fff;border-bottom:1px solid #d3d3d3}.messageinput[data-v-e8567ae8]{border-top:1px solid #d3d3d3}.chatPartnerBubble[data-v-e8567ae8]{background-color:#ece9e9;border-radius:15px 15px 15px 0;font-weight:410;margin-left:48px}.meBubble[data-v-e8567ae8]{background-color:#008de4;color:#fff;border-radius:15px 15px 0 15px;font-weight:410}",""]),t.exports=e},1735:function(t,e,n){"use strict";var r=n(1657);n.n(r).a},1736:function(t,e,n){(e=n(24)(!1)).push([t.i,".borders[data-v-a8458ed8]{max-width:600px;border-left:solid;border-right:solid;border-color:hsla(0,4.9%,88%,.84706);border-width:1px}",""]),t.exports=e},1747:function(t,e,n){"use strict";n.r(e);n(22),n(15),n(11),n(8),n(16);var r=n(2),o=n(69),c=(n(55),n(112),n(4)),l=n(1);var h=l.a.extend({data:()=>({loading:!1,items:[],search:null,searchDebounceTime:0,searchDebounceNonce:0,name:"",nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],nameRules:[t=>t.length<64||"Name can be max 63 characters.",t=>/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(t.text)||"Name can consists of A-Z,  0-9 and - within the name"]}),computed:{},watch:{async search(t){var e;this.searchDebounceTime=Date.now()+200,await(e=200,new Promise(t=>setTimeout(t,e)));const n=Date.now();if(this.searchDebounceTime<=n){console.log("Name start search :>> ",t),console.log("current this.name :>> ",this.name),console.log("this.querySelections(val) :>> ",this.querySelections(t));const e=this.name?this.name.split(":")[0]:null;console.log("curVal :>> ",e),t&&t!==e&&await this.querySelections(t,n)}else console.log("search has been called within debounceMS"),console.log("this.searchDebounceTime :>> ",this.searchDebounceTime)}},methods:{...Object(o.d)([]),...Object(o.b)(["searchDashNames"]),async querySelections(t,e){if(!t)return;if(e<this.searchDebounceNonce)return;this.searchDebounceNonce=e,this.loading=!0;const n=await this.searchDashNames(t);e<this.searchDebounceNonce||(this.items=n.map(t=>({text:t.data.label,value:`${t.data.label}:${t.id}`})),this.loading=!1)},messageName(t){const e=t.split(":")[0];this.items=[{text:e,value:t}],this.name=t,this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],console.log("messageName -> userName :>> ",e),this.$router.push("/messages/"+e)}}}),d=n(81),f=n(121),m=n.n(f),v=n(1751),component=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pr-2",staticStyle:{width:"100%"}},[n("v-autocomplete",{staticClass:"py-1",attrs:{value:t.name,"auto-select-first":"",flat:"","hide-details":"",rounded:"",filled:"",color:"#008de4",dense:"","full-width":"","prepend-inner-icon":"mdi-magnify",label:"Search people to chat",loading:t.loading,items:t.items,"search-input":t.search,"hide-no-data":"",disabled:this.$store.state.isSyncing,rules:t.nameRules,"success-messages":t.nameSuccess,messages:t.nameMessages},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:function(e){return t.messageName(e)}}})],1)}),[],!1,null,null,null),y=component.exports;function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}m()(component,{VAutocomplete:v.a});var w={components:{messagesContactlistSearch:y},data:function(){return{}},computed:k({},Object(o.c)(["getProfile","getMyContactList","getUserSignupTime"])),created:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchContactlist({userId:t.$store.state.name.userId});case 2:t.getMyContactList.forEach((function(e){var n=t.chatPartnerName(e[1]);t.fetchUserInfo({userName:n})})),console.log("this.getMyContactList :>> ",t.getMyContactList);case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:k(k({},Object(o.b)(["fetchContactlist","fetchUserInfo"])),{},{chatPartnerName:function(t){return console.log("contact :>> ",t),t.senderUserName.toLowerCase()===this.$store.state.name.label.toLowerCase()?t.receiverUserName:t.senderUserName},posted:function(t){var e=new Date(t),n=new Date(Date.now()),r=["Jan","Feb","Mar","April","May","June","July","Aug","Sep","Oct","Nov","Dec"],o=n.getDate()===e.getDate(),c=n.getMonth()===e.getMonth(),l=n.getFullYear()===e.getFullYear();return n-e<6e4?Math.floor((n-e)/1e3)+" sec":n-e<36e5?Math.floor((n-e)/6e4)+" min":o&&c&&l?Math.floor((n-e)/36e5)+"h":c&&l?r[e.getMonth()]+" "+e.getDate():l?r[e.getMonth()]+" "+e.getFullYear():r[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}})},C=(n(1723),n(1725),n(1609)),T=n(439),S=n(1610),D=n(268),O=n(1615),_=n(269),A=n(443),N=n(97),M=n(1620),V=Object(d.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column flex-grow-1",class:{fullscreen:t.$vuetify.breakpoint.mdAndUp,halfscreen:t.$vuetify.breakpoint.smAndDown},staticStyle:{height:"100vh"}},[n("v-row",{staticClass:"headerbar py-2",staticStyle:{height:"52px"},attrs:{align:"center","no-gutters":""}},[n("v-btn",{attrs:{icon:"",color:"#008de4"},on:{click:function(e){return t.$router.go(-1)}}},[n("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" "),n("span",{staticClass:"font-header pl-2"},[t._v(" Messages ")])],1),t._v(" "),n("v-divider"),t._v(" "),n("v-row",{staticClass:"pt-0 pl-2 pb-0",attrs:{"no-gutters":"",justify:"center",align:"middle"}},[n("messagesContactlistSearch")],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticStyle:{height:"100%","overflow-y":"scroll","flex-shrink":"1"},attrs:{id:"scrollcontainer"}},t._l(t.getMyContactList,(function(e,r){return n("v-card",{key:r,staticClass:"my-0 mx-auto messagecard",attrs:{ripple:!1,to:"/messages/"+t.chatPartnerName(e[1]),elevation:"0",tile:"",nuxt:""}},[n("v-list-item",{attrs:{"two-line":""}},[n("nuxt-link",{attrs:{to:"/"+t.chatPartnerName(e[1])}},[n("v-list-item-avatar",{staticStyle:{"margin-top":"13px"},attrs:{color:"lightgray",size:"48"}},[n("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.chatPartnerName(e[1])).avatar}})],1)],1),t._v(" "),n("v-list-item-content",{staticClass:"d-inline-block text-nowrap",staticStyle:{"max-width":"600px"}},[n("v-list-item-title",[n("span",{staticClass:"truncate",staticStyle:{"font-weight":"bold"}},[t._v("\n              "+t._s(t.chatPartnerName(e[1]))+"\n            ")]),t._v("\n            @"+t._s(t.chatPartnerName(e[1]))+"\n            "),t._v(" "),n("span",{staticClass:"time-posted",staticStyle:{float:"right"}},[t._v("\n              "+t._s(t.getUserSignupTime(t.chatPartnerName(e[1])))+"\n            ")])]),t._v(" "),n("v-list-item-subtitle",[t._v("\n            Write me something, I'm happy to chat.\n            ")])],1)],1)],1)})),1)],1)}),[],!1,null,"30fd737e",null),P=V.exports;m()(V,{VBtn:C.a,VCard:T.a,VDivider:S.a,VIcon:D.a,VImg:O.a,VListItem:_.a,VListItemAvatar:A.a,VListItemContent:N.a,VListItemSubtitle:N.b,VListItemTitle:N.c,VRow:M.a});var j=n(1727),z=n.n(j);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}l.a.directive("linkified",z.a);var E=function(t){return new Promise((function(e){return setTimeout(e,t)}))},U={data:function(){return{isSendingReplyMessage:!1,messages:[],directMessageText:"",lastTimeCheckedReceived:0,lastTimeCheckedSent:0,chatPartnerUserName:"",chatPartnerUserId:""}},computed:I({},Object(o.c)(["getJams","getProfile","getDirectMessages"])),created:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.chatPartnerUserName=t.$route.params.userName,!t.chatPartnerUserName){e.next=6;break}return e.next=4,t.resolveUsername(t.chatPartnerUserName);case 4:t.chatPartnerUserId=e.sent.$id,t.fetchDirectMessagesLoop();case 6:case"end":return e.stop()}}),e)})))()},methods:I(I({},Object(o.b)(["fetchDirectMessages","resolveUsername","sendDirectMessage"])),{},{enterPress:function(t){!0===t.shiftKey?this.directMessageText=this.directMessageText+"\n\r":this.sendDirectMessageWrapper()},amIMessageSender:function(t){return t.senderUserId===this.$store.state.name.userId},sendDirectMessageWrapper:function(){var t=this.directMessageText,e=this.chatPartnerUserName,n=this.chatPartnerUserId,r=this.sendDirectMessage;""!==t&&(this.directMessageText="",r({directMessageText:t,chatPartnerUserId:n,chatPartnerUserName:e}))},fetchDirectMessagesLoop:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDirectMessages();case 2:return e.next=4,E(1e3);case 4:t.fetchDirectMessagesLoop();case 5:case"end":return e.stop()}}),e)})))()}})},$=(n(1733),n(1637)),R=Object(d.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column flex-grow-1",staticStyle:{height:"100vh"}},[n("v-row",{staticClass:"pl-3 pt-0 pb-0",staticStyle:{height:"52px"},attrs:{align:"center","no-gutters":""}},[t.$vuetify.breakpoint.smAndDown?n("v-btn",{staticClass:"mt-n1",attrs:{icon:"",color:"#008de4"},on:{click:function(e){return t.$router.go(-1)}}},[n("v-icon",[t._v("mdi-arrow-left")])],1):t._e(),t._v(" "),n("span",{staticClass:"font-header pa-0 mt-n1"},[n("v-list-item",{attrs:{"two-line":""}},[n("nuxt-link",{attrs:{to:"/drummer"}},[n("v-list-item-avatar",{staticClass:"mr-2",attrs:{color:"lightgray",size:"31"}},[n("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.chatPartnerUserName).avatar}})],1)],1),t._v(" "),n("v-list-item-content",{staticClass:"py-2"},[n("v-list-item-title",[n("span",{staticStyle:{"font-weight":"bold","font-size":"19px"}},[t._v("\n              "+t._s(t.chatPartnerUserName)+"\n            ")])]),t._v(" "),n("v-list-item-subtitle",{staticStyle:{color:"#757575","font-size":"12px","margin-left":"1px"}},[t._v("\n            "+t._s("@"+t.chatPartnerUserName)+"\n          ")])],1)],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticStyle:{height:"100%","overflow-y":"scroll","flex-shrink":"1","flex-direction":"column-reverse",display:"flex"},attrs:{id:"scrollcontainer"}},[n("div",t._l(t.getDirectMessages(t.chatPartnerUserId),(function(e,r){return n("v-row",{key:r,attrs:{"no-gutters":"",justify:t.amIMessageSender(e)?"end":"start"}},[n("v-card",{staticClass:"mt-1 px-4 py-2 mr-4",class:{chatPartnerBubble:!t.amIMessageSender(e),meBubble:t.amIMessageSender(e)},staticStyle:{"line-height":"1.2em","font-size":"16px",display:"flex !important","flex-direction":"column"},attrs:{elevation:"0",outlined:"",color:"lightgrey"}},[n("div",{directives:[{name:"linkified",rawName:"v-linkified:options",value:{className:"linkify"},expression:"{ className: 'linkify' }",arg:"options"}],domProps:{innerHTML:t._s(e.encMessage)}})])],1)})),1)]),t._v(" "),n("v-row",{staticClass:"flex-nowrap messageinput py-2 mt-2",attrs:{"no-gutters":"",align:"center"}},[n("v-text-field",{staticClass:"px-2",attrs:{disabled:t.isSendingReplyMessage,rounded:"",filled:"",dense:"",placeholder:"Start a new message","hide-details":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPress(e)}},model:{value:t.directMessageText,callback:function(e){t.directMessageText=e},expression:"directMessageText"}}),n("v-btn",{staticClass:"mr-1",attrs:{loading:t.isSendingReplyMessage,icon:""},on:{click:t.sendDirectMessageWrapper}},[n("v-icon",{attrs:{color:"#008de4"}},[t._v(" mdi-send ")])],1)],1)],1)}),[],!1,null,"e8567ae8",null),F=R.exports;function Q(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}m()(R,{VBtn:C.a,VCard:T.a,VDivider:S.a,VIcon:D.a,VImg:O.a,VListItem:_.a,VListItemAvatar:A.a,VListItemContent:N.a,VListItemSubtitle:N.b,VListItemTitle:N.c,VRow:M.a,VTextField:$.a});var B={components:{messagesContactlist:P,messagesChat:F},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Q(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Q(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)(["getProfile"]))},J=(n(1735),n(1619)),H=n(1626),Z=Object(d.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"flex-nowrap fill-height",class:{fullscreen:t.$vuetify.breakpoint.mdAndUp,halfscreen:t.$vuetify.breakpoint.smAndDown}},[t.$vuetify.breakpoint.smAndDown?n("v-container",{staticClass:"pa-0",staticStyle:{display:"flex",height:"100%"}},[n("v-row",{staticStyle:{height:"100%",width:"100%","overflow-y":"hidden"},attrs:{"no-gutters":"",justify:"start"}},[n("v-col",{staticClass:"pa-0 borders",staticStyle:{"max-width":"600px"},attrs:{cols:"10"}},[t.$route.params.userName?t._e():n("messagesContactlist"),t._v(" "),t.$route.params.userName?n("messagesChat"):t._e()],1)],1)],1):t._e(),t._v(" "),t.$vuetify.breakpoint.mdAndUp?n("v-container",{staticClass:"pa-0 fill-height",staticStyle:{display:"flex",height:"100%"}},[n("v-row",{staticClass:"flex-nowrap pt-0 fill-height",attrs:{justify:"center"}},[n("v-col",{staticClass:"borders pa-0 fill-height",staticStyle:{"max-width":"375px"}},[n("messagesContactlist")],1),t._v(" "),n("v-col",{staticClass:"borders pa-0",staticStyle:{width:"600px"}},[t.$route.params.userName?n("messagesChat"):t._e()],1)],1)],1):t._e()],1)}),[],!1,null,"a8458ed8",null);e.default=Z.exports;m()(Z,{VCol:J.a,VContainer:H.a,VRow:M.a})}}]);